LocationIQ-Direction
--------------------
The method *directions* implemented in the *class* https://github.com/location-iq/locationiq-java-client/blob/2259dd56194bc4be6d56b6ccddc989719602fa22/src/main/java/com/locationiq/client/api/DirectionsApi.java[DirectionsApi] that can be instantiated whith an https://github.com/location-iq/locationiq-java-client/blob/2259dd56194bc4be6d56b6ccddc989719602fa22/src/main/java/LocationIq/ApiClient.java[ApiClient] calculates the shortest path to a destination, it return a https://github.com/location-iq/locationiq-java-client/blob/2259dd56194bc4be6d56b6ccddc989719602fa22/src/main/java/com/locationiq/client/model/DirectionsDirections.java[DirectionsDirections] *object*
As follows a test utilisation  

-----------------
package com.locationiq.client.api;

import LocationIq.ApiException;
import java.math.BigDecimal;
import com.locationiq.client.model.DirectionsDirections;
import com.locationiq.client.model.Error;
import org.junit.Test;
import org.junit.Ignore;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * API tests for DirectionsApi
 */
@Ignore
public class DirectionsApiTest {

    private final DirectionsApi api = new DirectionsApi();

    
    /**
     * Directions Service
     *
     * Finds the fastest route between coordinates in the supplied order.
     *
     * @throws ApiException
     *          if the Api call fails
     */
    @Test
    public void directionsTest() throws ApiException {
        String coordinates = null;
        String bearings = null;
        String radiuses = null;
        String generateHints = null;
        String approaches = null;
        String exclude = null;
        BigDecimal alternatives = null;
        String steps = null;
        String annotations = null;
        String geometries = null;
        String overview = null;
        String continueStraight = null;
        DirectionsDirections response = api.directions(coordinates, bearings, radiuses, generateHints, approaches, exclude, alternatives, steps, annotations, geometries, overview, continueStraight);

        // TODO: test validations
    }
    
}

-----------------

this example show how to finds the fastest route between coordinates in the supplied order.

we instantiate an object of type *DirectionsApi* and with its method *directions* we calculate the shortest path between the coordinates passed in parameters, for example the variable *coordinates* defines a polyline with three coordinates *{longitude,latitude}*. 

(see details of the function parameters in the table below).

--------------
import LocationIq.ApiClient;
import LocationIq.ApiException;
import LocationIq.Configuration;
import LocationIq.auth.*;
import LocationIq.models.*;
import com.locationiq.client.api.DirectionsApi;

public class Example {
  public static void main(String[] args) {
    ApiClient defaultClient = Configuration.getDefaultApiClient();
    defaultClient.setBasePath("https://eu1.locationiq.com/v1");
    
    // Configure API key authorization: key
    ApiKeyAuth key = (ApiKeyAuth) defaultClient.getAuthentication("key");
    key.setApiKey("YOUR API KEY");
    // Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
    //key.setApiKeyPrefix("Token");

    DirectionsApi apiInstance = new DirectionsApi(defaultClient);
    String coordinates = "-0.16102,51.523854;-0.15797,51.52326;-0.161593,51.522550"; // String | String of format {longitude},{latitude};{longitude},{latitude}[;{longitude},{latitude} ...] or polyline({polyline}) or polyline6({polyline6}). polyline follows Google's polyline format with precision 5
    String bearings = "10,20;40,30;30,9"; // String | Limits the search to segments with given bearing in degrees towards true north in clockwise direction. List of positive integer pairs separated by semi-colon and bearings array should be equal to length of coordinate array. Input Value :- {bearing};{bearing}[;{bearing} ...] Bearing follows the following format : bearing {value},{range} integer 0 .. 360,integer 0 .. 180
    String radiuses = "500;200;300"; // String | Limits the search to given radius in meters Radiuses array length should be same as coordinates array, eaach value separated by semi-colon. Input Value - {radius};{radius}[;{radius} ...] Radius has following format :- double >= 0 or unlimited (default)
    String generateHints = "false"; // String | Adds a Hint to the response which can be used in subsequent requests, see hints parameter. Input Value - true (default), false Format - Base64 String
    String approaches = "curb;curb;curb"; // String | Keep waypoints on curb side. Input Value - {approach};{approach}[;{approach} ...] Format - curb or unrestricted (default)
    String exclude = "toll"; // String | Additive list of classes to avoid, order does not matter. input Value - {class}[,{class}] Format - A class name determined by the profile or none.
    BigDecimal alternatives = 0; // BigDecimal | Search for alternative routes. Passing a number alternatives=n searches for up to n alternative routes. [ true, false (default), or Number ]
    String steps = "true"; // String | Returned route steps for each route leg [ true, false (default) ]
    String annotations = "false"; // String | Returns additional metadata for each coordinate along the route geometry.  [ true, false (default), nodes, distance, duration, datasources, weight, speed ]
    String geometries = "polyline"; // String | Returned route geometry format (influences overview and per step) [ polyline (default), polyline6, geojson ]
    String overview = "simplified"; // String | Add overview geometry either full, simplified according to highest zoom level it could be display on, or not at all. [ simplified (default), full, false ]
    String continueStraight = "default"; // String | Forces the route to keep going straight at waypoints constraining uturns there even if it would be faster. Default value depends on the profile [ default (default), true, false ]
    try {
      DirectionsDirections result = apiInstance.directions(coordinates, bearings, radiuses, generateHints, approaches, exclude, alternatives, steps, annotations, geometries, overview, continueStraight);
      System.out.println(result);
    } catch (ApiException e) {
      System.err.println("Exception when calling DirectionsApi#directions");
      System.err.println("Status code: " + e.getCode());
      System.err.println("Reason: " + e.getResponseBody());
      System.err.println("Response headers: " + e.getResponseHeaders());
      e.printStackTrace();
    }
  }
}
--------------
Parameters
^^^^^^^^^^
|===================================
|Name	|Type	|Description	|Notes
|coordinates	|String	|String of format {longitude},{latitude};{longitude},{latitude}[;{longitude},{latitude} ...] or polyline({polyline}) or polyline6({polyline6}). polyline follows Google's polyline format with precision 5	|
|bearings	|String	|Limits the search to segments with given bearing in degrees towards true north in clockwise direction. List of positive integer pairs separated by semi-colon and bearings array should be equal to length of coordinate array. Input Value :- {bearing};{bearing}[;{bearing} ...] Bearing follows the following format : bearing {value},{range} integer 0 .. 360,integer 0 .. 180|	[optional]
|radiuses	|String	|Limits the search to given radius in meters Radiuses array length should be same as coordinates array, eaach value separated by semi-colon. Input Value - {radius};{radius}[;{radius} ...] Radius has following format :- double >= 0 or unlimited (default)	|[optional]
|generateHints	|String   |	Adds a Hint to the response which can be used in subsequent requests, see hints parameter. Input Value - true (default), false Format - Base64 String  |	[optional]
|approaches	|String	|Keep waypoints on curb side. Input Value - {approach};{approach}[;{approach} ...] Format - curb or unrestricted (default)  |	[optional]
|exclude	|String	|Additive list of classes to avoid, order does not matter. input Value - {class}[,{class}] Format - A class name determined by the profile or none.|	[optional]
|alternatives	|BigDecimal	|Search for alternative routes. Passing a number alternatives=n searches for up to n alternative routes. [ true, false (default), or Number ]|	[optional]
|steps	|String	|Returned route steps for each route leg [ true, false (default) ]	|[optional]
|annotations	|String	|Returns additional metadata for each coordinate along the route geometry. [ true, false (default), nodes, distance, duration, datasources, weight, speed ]  |	[optional] [default to "&quot;false&quot;"]
|geometries	|String	|Returned route geometry format (influences overview and per step) [ polyline (default), polyline6, geojson ]	|[optional] [default to "&quot;polyline&quot;"]
|overview	|String	|Add overview geometry either full, simplified according to highest zoom level it could be display on, or not at all. [ simplified (default), full, false ]	|[optional] [default to "&quot;simplified&quot;"]
|continueStraight	|String	|Forces the route to keep going straight at waypoints constraining uturns there even if it would be faster. Default value depends on the profile [ default (default), true, false ]   |	[optional] [default to "&quot;default&quot;"]
|===================================

*Return type*
^^^^^^^^^^^^
https://github.com/location-iq/locationiq-java-client/blob/2259dd56194bc4be6d56b6ccddc989719602fa22/src/main/java/com/locationiq/client/model/DirectionsDirections.java[DirectionsDirections]

*Properties of DirectionsDirections* 


|==================
|Name      |Type      
|code      |String 
|waypoints |List<Object>     
|Routes    |List<DirectionsDirectionsRoutes>     
|==================

*Properties of https://github.com/location-iq/locationiq-java-client/blob/2259dd56194bc4be6d56b6ccddc989719602fa22/src/main/java/com/locationiq/client/model/DirectionsDirectionsRoutes.java[DirectionsDirectionsRoutes]*

|==================
|Name	|Type	
|legs	|List<Object>		
|weightName	|String	
|geometry	|String		
|weight	|BigDecimal		
|distance	|BigDecimal		
|duration	|BigDecimal
|==================


*how to integrate this into the project*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

When the user of the application enters the location of the conference  we will be able to retrieve information in json format that we will transform into a java object that will contain the *longitude* and *latitude* (see more details on the *class* https://github.com/sebastienbourg/J-Confs/blob/dev2020/Doc/locationIQ.adoc[location] and https://github.com/sebastienbourg/J-Confs/blob/dev2020/Doc/Archives/API_MAP_Indication.adoc[MapIndication] ). This is what interests us for the calculation of the path, in fact the *directions* method only needs the coordinates of the location and the rest is optional. 

As a return we will have a *DirectionsDirections* object that contains as an attribute a list of *DirectionsRoutes* , and each one contains a *distance* and a *duration*, so to calculate the total distance and duration we add the duration and distance of the *DirectionsRoutes* .


The problem is that it doesn't take one type of transport, which will be a problem for us, because the conference travel is done with different types of transport.

We still have to test these functions in a small program to know the measurements of the returned data (in meters or kilometers, minutes or hours).

Class diagram 
^^^^^^^^^^^^^^
image:https://imgur.com/KjyhZ8Z.jpg[alt="not bad.",width=100%,height=100%]

Use case diagram 
^^^^^^^^^^^^^^^^
image:https://imgur.com/c7JDEH0.jpg[alt="not bad.",width=100%,height=100%]


Source 
^^^^^^
https://github.com/location-iq/locationiq-java-client[locationIQ-java-client source]






